<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="GMN, SUIBE DeepLearning 张国祥 guoxiang 上外贸 数据分析 深度学习 上海对外经贸大学">
    <meta name="description" content="上海对外经贸大学 | 管理科学与工程 | 图网络、数据分析">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>GMN | Singularity&#39;s Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.1.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Singularity&#39;s Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Singularity&#39;s Blog</div>
        <div class="logo-desc">
            
            上海对外经贸大学 | 管理科学与工程 | 图网络、数据分析
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/16.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">GMN</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                                <span class="chip bg-color">机器学习</span>
                            </a>
                        
                            <a href="/tags/%E5%9B%BE%E6%A8%A1%E5%9E%8B/">
                                <span class="chip bg-color">图模型</span>
                            </a>
                        
                            <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                                <span class="chip bg-color">深度学习</span>
                            </a>
                        
                            <a href="/tags/%E8%AE%BA%E6%96%87%E5%AD%A6%E4%B9%A0/">
                                <span class="chip bg-color">论文学习</span>
                            </a>
                        
                            <a href="/tags/%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/">
                                <span class="chip bg-color">图神经网络</span>
                            </a>
                        
                            <a href="/tags/%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0/">
                                <span class="chip bg-color">论文复现</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%9B%BE%E6%A8%A1%E5%9E%8B/" class="post-category">
                                图模型
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-01-15
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    3.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    15 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Graph-Matching-Networks-for-Learning-the-Similarity-of-Graph-Structured-Objects"><a href="#Graph-Matching-Networks-for-Learning-the-Similarity-of-Graph-Structured-Objects" class="headerlink" title="Graph Matching Networks for Learning the Similarity of Graph Structured Objects"></a>Graph Matching Networks for Learning the Similarity of Graph Structured Objects</h1><p><strong>摘 要：</strong> 本文复现了DeepMind于2019年发表在PRML会议上的Graph Matching Networks for Learning the Similarity of Graph Structured Objects一文，该论文解决了图结构对象的检索和匹配这一具有挑战性的问题，并做出了两个关键贡献。首先，论文演示如何训练图神经网络（GNN），它已成为针对结构化数据定义的各种监督预测问题的有效模型，可以训练它们在向量空间中嵌入图数据从而实现有效的相似性推理。其次，论文提出了一种新颖的图匹配网络模型，该模型在给定一对图作为输入的情况下，通过共同推理来计算它们之间的相似度得分。通过基于注意力机制的新跨图匹配机制进行配对，论文展示了其模型在不同领域的有效性，包括基于控制流图的功能相似性搜索这一具有挑战性的问题，该问题在检测软件系统中的漏洞中起着重要作用。实验分析表明，改论文所提出的图匹配模型不仅可以在相似性学习的背景下利用结构，而且还可以胜过为解决这些问题而精心设计的特定领域基准系统。</p>
<p><strong>关键词：</strong>图神经网络；相似性计算；图嵌入；深度学习</p>
<p><strong>Research on TikTok Competitiveness Based on Fuzzy Multi-level Evaluation Method</strong></p>
<p><strong>Abstract:</strong> This article reproduces the article Graph Matching Networks for Learning the Similarity of Graph Structured Objects published by DeepMind at the PRML conference in 2019. This paper solves the challenging problem of retrieval and matching of graph structure objects, and makes Two key contributions. First, the paper demonstrates how to train graph neural network (GNN), which has become an effective model for various supervised prediction problems defined by structured data. They can be trained to embed graph data in vector space to achieve effective similarity inference. Secondly, the paper proposes a novel graph matching network model, which, given a pair of graphs as input, calculates the similarity score between them through common inference. Through the new cross-graph matching mechanism based on the attention mechanism for pairing, the paper demonstrated the effectiveness of its model in different fields, including the challenging problem of functional similarity search based on control flow graphs, which is in the detection of software systems Plays an important role in the loopholes in the. Experimental analysis shows that the graph matching model proposed in this paper can not only use the structure in the context of similarity learning, but also can outperform the domain-specific benchmark system carefully designed to solve these problems.</p>
<p><strong>Key words:</strong> Graph neural network; similarity calculation; graph embedding; deep learning</p>
<h2 id="1-引言"><a href="#1-引言" class="headerlink" title="1 引言"></a><strong>1</strong> <strong>引言</strong></h2><p>现实的人类世界正如同一个整体的复杂系统，系统中无时不存在着人与人、组织与组织之间的联系与交互，而图网络的表示形式自然的契合了现实世界的此类特点，图网络中的节点及节点的属性表示真实世界的实体和实体的属性标签，节点间的连边表示了实体间的客观联系与交互，因此，利用图网络来研究和表示真实世界中的系统性问题具有合理性及可行性。图是用于编码在许多领域中遇到的关系结构的自然表示。Gilmer等人曾于2017计算在图结构化数据上定义的定义广泛用于从计算生物学和化学分子分析到知识图或图结构化解析的各种领域了解自然语言。</p>
<p>在过去的几年中，图神经网络（GNN）已经成为一类有效的模型，用于学习结构化数据的表示形式和解决图上的各种监督预测问题。这样的模型通过设计并通过迭代聚合局部结构信息的传播过程来计算图节点表示形式，从而不变于图元素的排列（Scarselli等，2009; Li等，2015; Gilmer等，2017）。这些节点表示然后直接用于节点分类，或合并到图形向量中进行图形分类，监督分类或回归之外的问题对于GNN的研究相对较少。DeppMind所发表的此篇论文研究了图结构化对象的相似性学习问题，这种问题出现在许多重要的现实应用中，尤其是在图数据库中基于相似性的检索中。一个有启发性的应用是二进制功能相似性搜索的计算机安全问题，其中给定一个二进制文件，该二进制文件可能包含或可能不包含具有已知漏洞的代码，我们希望检查该二进制文件中的任何控制流图是否都与该数据库的相似性足够。这有助于确定封闭源软件中易受攻击的静态链接库，这是一个经常发生的问题（CVE，2010；2018），目前尚无良好的解决方案。这种相似性学习问题极具挑战性，因为细微的差异会使两个图在语义上非常不同，而具有不同结构的图仍可能相似。因此，针对此问题的成功模型应该（1）利用图结构，并且（2）能够从图结构以及学习的语义中推断出图的相似性。</p>
<p>​    为了解决上述两个研究问题，改论文提出了两种解决方法，其一为利用GNNs模型解决图的嵌入问题，为了解决图的相似性学习问题，作者研究了GNNs在这种情况下的使用，探索它们如何被用来将图嵌入到向量空间中，并学习这种嵌入模型来使相似的图在向量空间中接近，而不相似的图远离。该模型的一个重要特性是，它将每个图独立地映射到一个嵌入向量，然后所有的相似度计算都在向量空间中进行。这种方法的好处是如果需要对数据库中大量的图进行比较的时候，只需要对数据库中图的这些embedding进行比较，可以利用已有的一些算法快速得到匹配，比如k-d trees、locality sensitive hashing。另外论文针对跨图间的相似性计算问题提出了GMN模型，该模型可作为对GNN模型的一种扩展模型，我们将其称为图匹配网络（GMN）以进行相似性学习。GMN通过跨图关注机制来计算跨图的节点并识别差异，而不是为每个图独立地计算图表示。</p>
<p>​    因此，基于以上介绍该论文的主要贡献有三点：（1）证明了GNNs可以用来生成图嵌入，用于图相似度学习；（2）提出了图匹配网络（Graph Matching Networks），可以通过交叉图注意力匹配来进行计算相似度；（3）实验表明相似度学习模型可以在一系列应用上实现好的性能。</p>
<h2 id="2-模型"><a href="#2-模型" class="headerlink" title="2 模型"></a><strong>2</strong> <strong>模型</strong></h2><p>本文提出了Graph Embedding Model和Graph Matching Network两个模型，分别如下图左边和右边。</p>
<p>​           <img src="image-20210115223227679.png">                    </p>
<p>​                                                 <strong>图</strong> <strong>1</strong> <strong>图嵌入图（左）和匹配模型图（右）</strong></p>
<h3 id="2-1-Graph-Embedding-Model"><a href="#2-1-Graph-Embedding-Model" class="headerlink" title="2.1 Graph Embedding Model"></a><strong>2.1 Graph Embedding Model</strong></h3><p>​    图嵌入模型主要基于GNN来提取图上的信息，然后通过若干轮，在图上相邻节点之间交换信息，然后再把所有节点上的信息聚合产生关于这个图的整体embedding。分为三步Encoder、Propagation Layers和Aggregator。其主要思路是用传统GNN把全图表征成一个向量，然后利用图的向量来计算图与图之间的相似性，模型由：编码层、传播层、聚合层构成。</p>
<p>（1）Encoder</p>
<p>​    对图上每一个节点和每一条边的特征进行编码，如果节点或者边没有更多额外能利用的信息的话，它们的原始特征可以设置为常数1，即Xi= 1 , Xij = 1 。其中Xi、Xij分别代表节点和边的特征，相应的MLP编码器就是简单的一个隐含层的神经网络。</p>
<p> <img src="image-20210115223320434.png"></p>
<p>（2）Propagation Layers</p>
<p>​    第二步是在图上进行多轮的信息传播。每轮中，每条连边都通过一个神经网络生成一个message，每个节点都接受来自相邻节点的message并且形成新的节点表示。将相邻节点信息汇聚到中间节点可以使用均值、最大值和注意力等方法。</p>
<p> <img src="image-20210115223351579.png"></p>
<p>（3）Aggregator</p>
<p>​    第三步是把得到的节点表示都聚合起来，形成关于整个图的embedding。转换节点表示，然后使用带有门控向量的加权和在节点之间进行聚合。加权和可以帮助过滤掉不相关的信息，它比简单的和功能更强大，在经验上也有显著的提高。</p>
<p> <img src="image-20210115223413591.png"></p>
<h3 id="2-2-Graph-Matching-Network"><a href="#2-2-Graph-Matching-Network" class="headerlink" title="2.2 Graph Matching Network"></a><strong>2.2 Graph Matching Network</strong></h3><p>​    该模型在第一步和第三步都和前一种模型相同，最主要的区别是第二步在message passing的过程</p>
<p>中会在两个图之间传递信息，每个节点都会去尽量匹配另一个图中的相似节点，并且产生图之间的信息传递。图匹配网络将一对图作为输入并计算它们之间的相似度得分。与嵌入模型相比，这些匹配模型在该对上共同计算相似性得分，而不是先将每个图独立映射到向量。因此，这些模型可能比嵌入模型更强大，但代价是一些额外的计算效率。</p>
<p>​    论文提出了以下图匹配网络，该图更改了每个传播层中的节点更新模块，不仅像以前一样考虑了每个图边缘上的聚合消息，而且还考虑了一个跨图匹配向量，该向量可以测量节点的性能即一个图中的一个可以与另一个图中的一个或多个节点匹配：</p>
<p> <img src="image-20210115223443207.png"></p>
<p> <img src="image-20210115223504833.png"></p>
<p>​    最关键的是 fmatch，即如何产生两个图之间的匹配并且在图之间传递信息，GMN的传播层就是增加了注意力机制后的传播层，fmatch做的就是跨图信息的计算，attention公式如下：</p>
<p> <img src="image-20210115223540126.png"></p>
<p>​    与嵌入模型相比，这些匹配模型联合计算对上的相似度评分，而不是首先独立地将每个图映射到一个向量。提出的模型不仅仅考虑单个图中的边的信息聚合，而且考虑一个图中的一个顶点与另一个图的其他顶点的匹配度向量。</p>
<p> <img src="image-20210115223554929.png"></p>
<h2 id="3-模型训练与损失函数"><a href="#3-模型训练与损失函数" class="headerlink" title="3 模型训练与损失函数"></a><strong>3</strong> <strong>模型训练与损失函数</strong></h2><p>​    图相似度模型可以在一对图和一组三个图上训练，损失函数有二元组和三元组，其都被设置在[0,1]范围内(由于图空间太大，所以如果将最后图的表示用一个二值向量会更加高效)，二元组构建了相同和不同的图对，相同图对的label=1，不同的label=-1，三元组的存了3个graph，在loss设计上将模型引导为拉近G1、G2的距离，拉远G1、G3之间的距离。在作者的实验中使用二元组或三元组的精度相似。</p>
<p> <img src="image-20210115223616809.png"></p>
<p>（1）成对数据（G1，G2，t），t为标签</p>
<p> <img src="image-20210115223629323.png"></p>
<p>（2）三元输入数据（G1，G2，G3）</p>
<p>​    G1与G2之间的相似度小于G1与G3，这个loss 约束<br>$$<br>d(G_1,G_2 )+γ&lt;d(G_1,G_3 )<br>$$<br> 用汉明距离作为距离度量，其约束目标为最小化positive pairs，最大化negative pairs。</p>
<h2 id="4-实验结果"><a href="#4-实验结果" class="headerlink" title="4 实验结果"></a><strong>4</strong> <strong>实验结果</strong></h2><h3 id="4-1-训练步骤"><a href="#4-1-训练步骤" class="headerlink" title="4.1 训练步骤"></a><strong>4.1</strong> <strong>训练步骤</strong></h3><p>​    我们通过对具有n个节点和随机链接概率p的随机二项式图G1进行采样来生成训练数据（(Erdös &amp; Rényi, 1959），然后通过以随机概率kp替换G1中的连边来创建正样本G2，以随机概率kn替换G1中的连边从而构建负样本G3，其中kp &lt;kn。 模型需要预测正样本对（G1、G2）比负样本对（G1、G3）具有更高的相似性评分。在整个实验中，我们无需进一步调整即可将节点矢量的维数固定为32，将图形矢量的维数固定为128。我们还尝试了从1到5的不同数量的传播步骤T，并且观察到随着T的增加性能也会随之提升，故在后续的实验中我们将T设置为5.</p>
<p> <img src="image-20210115223712195.png"></p>
<p> <img src="image-20210115223726702.png"></p>
<h3 id="4-2-Baseline"><a href="#4-2-Baseline" class="headerlink" title="4.2 Baseline"></a><strong>4.2 Baseline</strong></h3><p>​    我们将模型与流行的Weisfeiler Lehman（WL）内核（Shervashidze等人，2011）进行了比较，事实证明，该模型在图分类任务上具有很强的竞争力，而该内核背后的Weisfeiler Lehman算法是一种检查图同构的强大方法（编辑距离为0），这是一个紧密相关的任务（Weisfeiler＆Lehman，1968; Shervashidze 等人，2011）。</p>
<h3 id="4-3-评估"><a href="#4-3-评估" class="headerlink" title="4.3 评估"></a><strong>4.3</strong> <strong>评估</strong></h3><p>​    使用两个指标来评估不同模型的性能：（1）对AUC-ROC曲线下的区域，用于将图对在固定的1000对上分类为相似或不相似，（2）三元精度，在固定的1000个三元组上，三元组中的正对比负对具有更高的相似性。</p>
<p> <img src="image-20210115223741824.png"></p>
<h3 id="4-4-模型参数设置"><a href="#4-4-模型参数设置" class="headerlink" title="4.4 模型参数设置"></a><strong>4.4</strong> <strong>模型参数设置</strong></h3><p>（1）Embedding_net</p>
<p> <img src="image-20210115223755771.png"></p>
<p>（2）graph_matching_net</p>
<p> <img src="image-20210115223808558.png"></p>
<h3 id="4-5-实验结果"><a href="#4-5-实验结果" class="headerlink" title="4.5 实验结果"></a><strong>4.5</strong> <strong>实验结果</strong></h3><p>​    实证结果表现，在具有不同初始值n，p及kp = 1和kn = 2固定的一些特定分布图上训练和评估了GSL模型。评估结果如表所示。我们可以看到，通过学习特定分布图，GSL模型能够比通用基线做得更好，并且GMN始终优于嵌入模型（GNN）。因为我们正在学习相似性度量标准，而不是进行同构测试，因此我们的模型可以比学习的WL内核做得更好。</p>
<p>​    对于GMN模型，我们可以可视化交叉图注意力机制以进一步了解其工作方式。 下图显示了一个针对匹配模型的两个示例，该模型在n∈[20; 50]的图上进行训练，并在n=10的图上进行了测试。交叉图注意力权重以绿色显示，权重的比例显示为绿色边缘的透明度。我们可以看到，当两个图匹配时注意力权重可以使节点很好地对齐，而当两个图不匹配时，注意力权重往往会集中在具有较高程度的节点上。但这种模式不能像标准注意力模型那样被解释。</p>
<p> <img src="image-20210115223824308.png"></p>
<p>​    由于计算资源的限制，我对于此模型的复现效果略有偏差，其最高得分如下图所示，其pair_auc为0.9270，triplet_acc为0.9510.</p>
<p> <img src="image-20210115223841945.png"></p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a><strong>参考文献</strong></h2><p>[1].  Li Y, Gu C, Dullien T, et al. Graph matching networks for learning the similarity of graph structured objects[J]. arXiv preprint arXiv:1904.12787, 2019.</p>
<p>[2].  Scarselli F, Gori M, Tsoi A C, et al. The graph neural network model[J]. IEEE Transactions on Neural Networks, 2008, 20(1): 61-80.</p>
<p>[3].  Veličković P, Cucurull G, Casanova A, et al. Graph attention networks[J]. arXiv preprint arXiv:1710.10903, 2017.</p>
<p>[4].  Al-Rfou R, Perozzi B, Zelle D. Ddgk: Learning graph representations for deep divergence graph kernels[C]//The World Wide Web Conference. 2019: 37-48.</p>
<p>[5].  Battaglia P W, Pascanu R, Lai M, et al. Interaction networks for learning about objects, relations and physics[J]. arXiv preprint arXiv:1612.00222, 2016.</p>
<p>[6].  M. Ou, P. Cui, J. Pei, Z. Zhang, W. Zhu, Asymmetric transitivity preserving graph embedding, in: Proc. of ACM SIGKDD, 2016, pp. 1105–1114.</p>
<p>[7].  涂存超,杨成,刘知远,孙茂松.网络表示学习综述[J].中国科学:信息科学,2017,47(08):980-996.</p>
<p>[8].  Battaglia P W, Hamrick J B, Bapst V, et al. Relational inductive biases, deep learning, and graph networks[J]. arXiv preprint arXiv:1806.01261, 2018.</p>
<p>[9].  Bronstein M M, Bruna J, LeCun Y, et al. Geometric deep learning: going beyond euclidean data[J]. IEEE Signal Processing Magazine, 2017, 34(4): 18-42.</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">国祥</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://zgx43790.github.io/2021/01/15/gmn/">https://zgx43790.github.io/2021/01/15/gmn/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">国祥</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                                    <span class="chip bg-color">机器学习</span>
                                </a>
                            
                                <a href="/tags/%E5%9B%BE%E6%A8%A1%E5%9E%8B/">
                                    <span class="chip bg-color">图模型</span>
                                </a>
                            
                                <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                                    <span class="chip bg-color">深度学习</span>
                                </a>
                            
                                <a href="/tags/%E8%AE%BA%E6%96%87%E5%AD%A6%E4%B9%A0/">
                                    <span class="chip bg-color">论文学习</span>
                                </a>
                            
                                <a href="/tags/%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/">
                                    <span class="chip bg-color">图神经网络</span>
                                </a>
                            
                                <a href="/tags/%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0/">
                                    <span class="chip bg-color">论文复现</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/01/16/gmn-code/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="GMN-complement-tensorflow">
                        
                        <span class="card-title">GMN-complement-tensorflow</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            GMN-complement-tensorflow
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-01-16
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%9B%BE%E6%A8%A1%E5%9E%8B/" class="post-category">
                                    图模型
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">机器学习</span>
                    </a>
                    
                    <a href="/tags/%E5%9B%BE%E6%A8%A1%E5%9E%8B/">
                        <span class="chip bg-color">图模型</span>
                    </a>
                    
                    <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">深度学习</span>
                    </a>
                    
                    <a href="/tags/%E8%AE%BA%E6%96%87%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">论文学习</span>
                    </a>
                    
                    <a href="/tags/%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/">
                        <span class="chip bg-color">图神经网络</span>
                    </a>
                    
                    <a href="/tags/%E8%AE%BA%E6%96%87%E5%A4%8D%E7%8E%B0/">
                        <span class="chip bg-color">论文复现</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/09/21/tu-guan-xi-wang-luo-a-li-yun/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="图关系网络-阿里云">
                        
                        <span class="card-title">图关系网络-阿里云</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            图关系网络-阿里云
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-09-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%9B%BE%E6%A8%A1%E5%9E%8B/" class="post-category">
                                    图模型
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                        <span class="chip bg-color">学习笔记</span>
                    </a>
                    
                    <a href="/tags/%E5%9B%BE%E6%A8%A1%E5%9E%8B/">
                        <span class="chip bg-color">图模型</span>
                    </a>
                    
                    <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">
                        <span class="chip bg-color">深度学习</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Singularity&#39;s Blog<br />'
            + '文章作者: 国祥<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='true'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.06'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            &copy;2020-2023 GuoXiang. 版权所有


            <span id="year">2020</span>
            <a href="/about" target="_blank">国祥</a>
            
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2020";
                    var startMonth = "08";
                    var startDate = "21";
                    var startHour = "18";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="ZGX43790" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:imsingularity@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=437904687" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 437904687" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
